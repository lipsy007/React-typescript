{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\drmga\\\\reacttypsrcipt_app\\\\typescript-react-app\\\\src\\\\components\\\\customer\\\\Create.tsx\";\nimport * as React from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nconst Regex = RegExp(/^\\s?[A-Z0–9]+[A-Z0–9._+-]{0,}@[A-Z0–9._+-]+\\.[A-Z0–9]{2,4}\\s?$/i);\nconst Regmob = RegExp(/^[0-9\\b]+$/);\n\nclass Create extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.processFormSubmission = e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const formData = {\n        firstName: this.state.firstName,\n        lastName: this.state.lastName,\n        email: this.state.email,\n        phone: this.state.phone,\n        address: this.state.address,\n        password: this.state.password\n      };\n      this.setState({\n        submitSuccess: true,\n        value: [...this.state.values, formData],\n        loading: false\n      });\n      axios.post(`http://localhost:44383/api/user/PostU`, formData).then(data => [setTimeout(() => {\n        this.props.history.push('/');\n      }, 1500)]);\n    };\n\n    this.handleInputChanges = e => {\n      e.preventDefault();\n      const {\n        name,\n        value\n      } = e.currentTarget;\n      let errors = this.state.errors;\n\n      switch (name) {\n        case 'firstName':\n          errors.first_name = value.length < 5 ? 'Username must be 5 characters long!' : '';\n          break;\n\n        case 'email':\n          errors.email = Regex.test(value) ? '' : 'Email is not valid!';\n          break;\n\n        case 'password':\n          errors.password = value.length < 8 ? 'Password must be eight characters long!' : '';\n          break;\n\n        case 'phone':\n          errors.phone = Regmob.test(value) && value.length !== 10 ? 'Mobile Number is not valid!' : '';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState(Object.assign(this.state, {\n        errors,\n        [name]: value\n      }));\n      console.log(this.state.errors);\n      this.setState({\n        [e.currentTarget.name]: e.currentTarget.value\n      });\n    };\n\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      address: '',\n      password: '',\n      values: [],\n      loading: false,\n      submitSuccess: false,\n      errors: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        phone: '',\n        address: '',\n        password: ''\n      }\n    };\n  }\n\n  render() {\n    const {\n      submitSuccess,\n      loading,\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 form-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \" Create Post \"), !submitSuccess && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-info\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, \"Fill the form below to create a new post\"), submitSuccess && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-info\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, \"The form was successfully submitted!\"), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"create-post-form\",\n      onSubmit: this.processFormSubmission,\n      noValidate: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"firstName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, \" First Name \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"firstName\",\n      onChange: e => this.handleInputChanges(e),\n      name: \"firstName\",\n      className: \"form-control\",\n      placeholder: \"Enter customer's first name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }), errors.firstName.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 58\n      }\n    }, errors.firstName)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"lastName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, \" Last Name \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"lastName\",\n      onChange: e => this.handleInputChanges(e),\n      name: \"lastName\",\n      className: \"form-control\",\n      placeholder: \"Enter customer's last name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, \" Email \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      onChange: e => this.handleInputChanges(e),\n      name: \"email\",\n      className: \"form-control\",\n      placeholder: \"Enter customer's email address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 26\n      }\n    }), errors.email.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 55\n      }\n    }, errors.email)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"phone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, \" Phone \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"phone\",\n      onChange: e => this.handleInputChanges(e),\n      name: \"phone\",\n      className: \"form-control\",\n      placeholder: \"Enter customer's phone number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }), errors.phone.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 55\n      }\n    }, errors.phone)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }, \" Address \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"address\",\n      onChange: e => this.handleInputChanges(e),\n      name: \"address\",\n      className: \"form-control\",\n      placeholder: \"Enter customer's address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, \" password \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"password\",\n      onChange: e => this.handleInputChanges(e),\n      name: \"password\",\n      className: \"form-control\",\n      placeholder: \"Enter password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }), errors.password.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 57\n      }\n    }, errors.password)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4 pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    }, \"Create Customer\"), loading && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fa fa-circle-o-notch fa-spin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nexport default withRouter(Create);","map":{"version":3,"sources":["C:/Users/drmga/reacttypsrcipt_app/typescript-react-app/src/components/customer/Create.tsx"],"names":["React","axios","withRouter","Regex","RegExp","Regmob","Create","Component","constructor","props","processFormSubmission","e","preventDefault","setState","loading","formData","firstName","state","lastName","email","phone","address","password","submitSuccess","value","values","post","then","data","setTimeout","history","push","handleInputChanges","name","currentTarget","errors","first_name","length","test","Object","assign","console","log","render","color"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport axios from 'axios';\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\r\n\r\nconst Regex = RegExp(/^\\s?[A-Z0–9]+[A-Z0–9._+-]{0,}@[A-Z0–9._+-]+\\.[A-Z0–9]{2,4}\\s?$/i);\r\nconst Regmob = RegExp(/^[0-9\\b]+$/);\r\nexport interface IValues {\r\n    firstName: string,\r\n    lastName: string,\r\n    email: string,\r\n    phone: string,\r\n    address: string,\r\n    password: string,\r\n    errors : \r\n     {\r\n         firstName: string,\r\n         lastName: string,\r\n         email: string,\r\n         phone: string,\r\n         address: string,\r\n         password: string\r\n    }\r\n}\r\nexport interface IFormState {\r\n    [key: string]: any;\r\n    values: IValues[];\r\n    submitSuccess: boolean;\r\n    loading: boolean;\r\n    name?:any;\r\n    errors:any;\r\n}\r\nclass Create extends React.Component<RouteComponentProps, IFormState> {\r\n    constructor(props: RouteComponentProps) {\r\n        super(props);\r\n        this.state = {\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            phone: '',\r\n            address: '',\r\n            password: '',\r\n            values: [],\r\n            loading: false,\r\n            submitSuccess: false,\r\n            errors : {\r\n                firstName: '',\r\n                lastName: '',\r\n                email: '',\r\n                phone: '',\r\n                address: '',\r\n                password: ''\r\n            }\r\n            \r\n        }\r\n    }\r\n    private processFormSubmission = (e: React.FormEvent<HTMLFormElement>): void => {\r\n        e.preventDefault();\r\n        this.setState({ loading: true });\r\n        const formData = {\r\n            firstName: this.state.firstName,\r\n            lastName: this.state.lastName,\r\n            email: this.state.email,\r\n            phone: this.state.phone,\r\n            address: this.state.address,\r\n            password: this.state.password,\r\n        }\r\n        this.setState({ submitSuccess: true, value: [...this.state.values, formData], loading: false });\r\n        axios.post(`http://localhost:44383/api/user/PostU`, formData).then(data => [\r\n            setTimeout(() => {\r\n                this.props.history.push('/');\r\n            }, 1500)\r\n        ]);\r\n    }\r\n\r\n    private handleInputChanges = (e: React.FormEvent<HTMLInputElement>) => {\r\n        e.preventDefault();\r\n        const{name , value} = e.currentTarget;\r\n        let errors = this.state.errors;\r\n        switch (name) {\r\n            case 'firstName':\r\n               errors.first_name = value.length < 5 ? 'Username must be 5 characters long!': '';\r\n               break;\r\n            case 'email':\r\n               errors.email = Regex.test(value)? '': 'Email is not valid!';\r\n               break;\r\n            case 'password':\r\n               errors.password = value.length < 8 ? 'Password must be eight characters long!': '';\r\n               break;\r\n            case 'phone':\r\n               errors.phone = Regmob.test(value) && value.length !== 10 ? 'Mobile Number is not valid!': '';\r\n               break;\r\n            default:\r\n              break;\r\n          }\r\n          this.setState(Object.assign(this.state, { errors,[name]: value }));\r\n      console.log(this.state.errors);\r\n             this.setState({\r\n                  [e.currentTarget.name]: e.currentTarget.value,\r\n       })\r\n}\r\npublic render() {\r\n    const { submitSuccess, loading ,errors} = this.state;\r\n    return (\r\n        <div>\r\n            <div className={\"col-md-12 form-wrapper\"}>\r\n                <h2> Create Post </h2>\r\n                {!submitSuccess && (\r\n                    <div className=\"alert alert-info\" role=\"alert\">\r\n                        Fill the form below to create a new post\r\n                </div>\r\n                )}\r\n                {submitSuccess && (\r\n                    <div className=\"alert alert-info\" role=\"alert\">\r\n                        The form was successfully submitted!\r\n                        </div>\r\n                )}\r\n                <form id={\"create-post-form\"} onSubmit={this.processFormSubmission} noValidate={false}>\r\n                    <div className=\"form-group col-md-12\">\r\n                        <label htmlFor=\"firstName\"> First Name </label>\r\n                        <input type=\"text\" id=\"firstName\" onChange={(e) => this.handleInputChanges(e)} name=\"firstName\" className=\"form-control\" placeholder=\"Enter customer's first name\" />\r\n                        {errors.firstName.length > 0 &&  <span style={{color: \"red\"}}>{errors.firstName}</span>}\r\n                    </div>\r\n                    <div className=\"form-group col-md-12\">\r\n                        <label htmlFor=\"lastName\"> Last Name </label>\r\n                        <input type=\"text\" id=\"lastName\" onChange={(e) => this.handleInputChanges(e)} name=\"lastName\" className=\"form-control\" placeholder=\"Enter customer's last name\" />\r\n                        \r\n                    </div>\r\n                    <div className=\"form-group col-md-12\">\r\n                        <label htmlFor=\"email\"> Email </label>\r\n                         <input type=\"email\" id=\"email\" onChange={(e) => this.handleInputChanges(e)} name=\"email\" className=\"form-control\" placeholder=\"Enter customer's email address\" />\r\n                         {errors.email.length > 0 &&  <span style={{color: \"red\"}}>{errors.email}</span>}\r\n                    </div>\r\n                    <div className=\"form-group col-md-12\">\r\n                        <label htmlFor=\"phone\"> Phone </label>\r\n                        <input type=\"text\" id=\"phone\" onChange={(e) => this.handleInputChanges(e)} name=\"phone\" className=\"form-control\" placeholder=\"Enter customer's phone number\" />\r\n                        {errors.phone.length > 0  &&  <span style={{color: \"red\"}}>{errors.phone}</span>}\r\n                    </div>\r\n                    <div className=\"form-group col-md-12\">\r\n                        <label htmlFor=\"address\"> Address </label>\r\n                        <input type=\"text\" id=\"address\" onChange={(e) => this.handleInputChanges(e)} name=\"address\" className=\"form-control\" placeholder=\"Enter customer's address\" />\r\n                    </div>\r\n                    <div className=\"form-group col-md-12\">\r\n                        <label htmlFor=\"password\"> password </label>\r\n                        <input type=\"text\" id=\"password\" onChange={(e) => this.handleInputChanges(e)} name=\"password\" className=\"form-control\" placeholder=\"Enter password\" />\r\n                        {errors.password.length > 0 &&  <span style={{color: \"red\"}}>{errors.password}</span>}\r\n                    </div>\r\n                    <div className=\"form-group col-md-4 pull-right\">\r\n                        <button className=\"btn btn-success\" type=\"submit\">\r\n                            Create Customer\r\n                        </button>\r\n                        {loading &&\r\n                            <span className=\"fa fa-circle-o-notch fa-spin\" />\r\n                        }\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n}\r\nexport default withRouter(Create)"]},"metadata":{},"sourceType":"module"}